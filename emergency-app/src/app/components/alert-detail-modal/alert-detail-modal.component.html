
@if (!showform){
  <div>
    <div class="alert-detail-container detail-card">
      <div>
        <!-- Icon and Title -->
        <div class="detail-header">
          <ion-icon [name]="getIcon(alert?.category)" class="main-icon"></ion-icon>
          <h1>{{ alert?.category || 'Alert' }}</h1>
          <div class="badge-container">
            <ion-badge color="light" class="severity-badge">{{ alert?.severity }}</ion-badge>
            <ion-badge [color]="CheckAlertActive(alert?.timestamp) ? 'success' : 'danger'" class="active-badge">
              {{ CheckAlertActive(alert?.timestamp) ? 'Active' : 'Inactive' }}
            </ion-badge>
          </div>
        </div>

        <!-- Image -->
        <div class="detail-section" *ngIf="alert && alert.photoUrl">
          <img [src]="alert.photoUrl" alt="Alert Photo" style="max-width:100%;max-height:200px;display:block;margin:1em auto;" />
        </div>

        <!-- Description -->
        <div class="detail-section">
          <button
            type="button"
            class="copy-icon-btn"
            (click)="copyAlertDetails(alert)"
            aria-label="Copy details"
            title="Copy details"
          >
            <ion-icon name="copy-outline"></ion-icon>
          </button>
          <p class="description">{{ alert?.notes || 'No additional details provided.' }}</p>
        </div>

        <!-- Location -->
        <div class="detail-section">
          <div class="info-row">
            <ion-icon name="location"></ion-icon>
            <div class="info-content">
              <p class="label">Location</p>
              <p class="value">{{ alert?.location?.address || 'Unknown' }}</p>
            </div>
          </div>
        </div>

        <!-- Time -->
        <div class="detail-section">
          <div class="info-row">
            <ion-icon name="time"></ion-icon>
            <div class="info-content">
              <p class="label">Time Reported</p>
              <p class="value">{{ alert?.timestamp | date:'MMM dd, yyyy HH:mm' }}</p>
            </div>
          </div>
        </div>

        <!-- Map -->
        <div class="detail-section">
          <div class="map-header">
            <ion-icon name="map"></ion-icon>
            <p>Location Map</p>
          </div>
          <div class="map-container">
            <div id="alert-detail-map" style="width: 100%; height: 100%;position: absolute;"></div>
          </div>
        </div>
        <div class="detail-actions">
          <button class="delete-button" (click)="deleteAlert()">
            <ion-icon name="trash"></ion-icon>
            Delete Alert
          </button>
          <button class="update-button" (click)="updateAlert()">
            <ion-icon name="create"></ion-icon>
            Update Alert
          </button>
        </div>
      </div>
    </div>
  </div>
} @else {
  <app-report-modal [alert]="alert" [isNativeModal]="true" (closeModal)="handleFormClose($event)"></app-report-modal>
}